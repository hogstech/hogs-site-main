const memberData = {
	"eboardSort": [
		"President",
		"Vice President",
		"Treasurer",
		"Secretary"
	],
	// Note: if you need to add a minor as well as a major, add a "minor" option
	// between "major" and "enrollment" and it will automatically be formatted
	// correctly
	"members": [
		{   "name": "Vivek Chalasani",
			"eboardRole": "President",
			"major": "Psychology",
			"enrollment": "Second Year",
			"photos": [
				{
					"URL": "images/members/vivek_chalasani.jpg",
					"size": "thumbnail"
				},
				{
					"URL": "images/members/vivek_chalasani_fun.jpg",
					"size": "fun"
				}
			],
			"bio": "Hello! My name is Vivek and I'm from a city called Bangalore, in India. My hobbies are playing the drums and eating way too many Cheetos. I'm super excited to be the HoGS president next year, and I look forward to performing evil experiments in HoGS with everyone!!"
		},
		{   "name": "Blaise Husek",
			"eboardRole": "Vice President",
			"major": "Medical Illustration",
			"enrollment": "Third Year",
			"photos": [
				{
					"URL": "images/members/blaise_husek.jpg",
					"size": "thumbnail"
				},
				{
					"URL": "images/members/blaise_husek_fun.jpg",
					"size": "fun"
				}
			],
			"bio": "Hello! My name is Blaise and I'm from Pittsburgh, PA. I'm a third year medical illustrator and my hobbies include drawing, video games, and fashion. Becoming the Vice President is exciting for me as I enjoy organizing and planning. I'll be looking forward to meeting everybody, so let's make this a great year!"
		},
		{   "name": "Cade Medina",
			"eboardRole": "Treasurer",
			"major": "Biomedical Sciences",
			"enrollment": "Second Year",
			"photos": [
				{
					"URL": "images/members/cade_medina.jpg",
					"size": "thumbnail"
				},
				{
					"URL": "images/members/cade_medina_fun.jpg",
					"size": "fun"
				}
			],
			"bio": "Greetings! I'm Cade, and I'll be the treasurer. I'm a second year biomedical sciences major, and plan on going into microbiology. I'm looking forward to working together with the rest of HoGS Eboard to extend our passion for science at RIT!"
		},
		{   "name": "Jack Fontaine",
			"eboardRole": "Secretary",
			"major": "Mechanical Engineering",
			"enrollment": "Third Year",
			"photos": [
				{
					"URL": "images/members/jack_fontaine.jpg",
					"size": "thumbnail"
				},
				{
					"URL": "images/members/jack_fontaine_fun.jpg",
					"size": "fun"
				}
			],
			"bio": "My name is Jack Fontaine, and I am a third year mechanical engineering student from northern Virginia. I like nature, games, and playing hockey. I look forward to getting to know new members- do not hesitate to reach out if you want to talk or have questions!"
		},



		{   "name": "Dwayne the Rock",
			"major": "Door Holding",
			"enrollment": "Beyond Time",
			"photos": [
				{
					"URL": "images/memes/dwayne_the_rock.jpg",
					"size": "thumbnail"
				},
				{
					"URL": "images/memes/dwayne_the_rock_fun.jpg",
					"size": "full"
				}
			],
			"bio": "Hey there! I'm Dwayne, the Rock, and I'm always happy to hold the T-Lounge door open for you!\nhttps://www.youtube.com/shorts/eDTnhSUekKw"
		},
		{   "name": "Big Red",
			"major": "Electrodynamics",
			"enrollment": "Time is relative",
			"photos": [
				{
					"URL": "images/memes/big_red.jpg",
					"size": "thumbnail"
				},
				{
					"URL": "images/memes/big_red_fun.jpg",
					"size": "full"
				}
			],
			"bio": "Hello! I'm Big Red and I like long cables like myself to bring around angry pixies! I live in H.E.L.L, don't don't visit me I don't like people."
		},
		{   "name": "Virilicus",
			"major": "Archeologist",
			"enrollment": "Ancient",
			"photos": [
				{
					"URL": "images/memes/virilicus.jpg",
					"size": "thumbnail"
				},
				{
					"URL": "images/memes/virilicus_fun.jpg",
					"size": "full"
				}
			],
			"bio": "Gimme your kneecaps."
		},

		{   "name": "Lucas Gordon",
			"major": "Industrial Design",
			"enrollment": "Third Year",
			"photos": [
				{
					"URL": "images/members/lucas_gordon.jpg",
					"size": "thumbnail"
				},
				{
					"URL": "images/members/lucas_gordon_fun.jpg",
					"size": "full"
				}
			],
			"bio": "I have always been a maker. I've been an avid LEGO fan since the age of 4, and I always gravitated toward activities with creative outlets. I have also always been interested in science and technology and finding ways to use them to solve practical problems. After a bit of turbulence, I ended up in Industrial/Product Design and am now in my third year of the program, enjoying taking ideas from the conceptual stage all the way to production."
		},
		{   "name": "Joseph Gysbers",
			"major": "Mechanical Engineering",
			"enrollment": "Second Year",
			"photos": [
				{
					"URL": "images/members/joseph_gysbers.jpg",
					"size": "thumbnail"
				},
				{
					"URL": "images/members/joseph_gysbers_fun.jpg",
					"size": "full"
				}
			],
			"bio": "Hello! I'm Joe, a second year mechanical engineering major from Newfane, New York. I have served as both Vice-President and Housing Head, and I always help out with projects for Rochester Maker Faire and Imagine RIT. I'm usually hanging out on floor whenever I'm not busy, so if you need anything just let me know or feel free to stop by!"
		},
		{   "name": "Kevin Wu",
			"major": "Computer Science",
			"enrollment": "Second Year",
			"photos": [
				{
					"URL": "images/members/kevin_wu.jpg",
					"size": "thumbnail"
				},
				{
					"URL": "images/members/kevin_wu_fun.jpg",
					"size": "full"
				}
			],
			"bio": "I'm from NYC. I love editing videos and coding. I'm responsible for some of the HoGS YouTube videos and server management for some of our games, mainly datapacks for one of our Minecraft servers. I love music composed by Hiroyuki Sawano, if anyone knows who that is."
		},
		{   "name": "Damian Suarez",
			"major": "Mechanical Engineering Technology",
			"enrollment": "Second Year",
			"photos": [
				{
					"URL": "images/members/damian_suarez.jpg",
					"size": "thumbnail"
				},
				{
					"URL": "images/members/damian_suarez_fun.jpg",
					"size": "full"
				}
			],
			"bio": "I'm Damian Suarez, the man who makes things. I'm from Miami, Florida (Yes its hot, Yes we have mosquitos, Yes I know Mr. Worldwide) I joined HoGS in 2021, and briefly served as project manager. If they're is any random electrical parts or wires on floor Probably from me. When I'm not in class I like to hanging and chilling around floor, or blowing myself up, its a 50 50. Ill leave you with some advice \"You can't do two illegal things at once\"."
		},
		{   "name": "Leah Robinson",
			"major": "Biotechnology & Molecular Bioscience",
			"enrollment": "First Year",
			"photos": [
				{
					"URL": "images/members/leah_robinson.jpg",
					"size": "thumbnail"
				},
				{
					"URL": "images/members/leah_robinson_fun.jpg",
					"size": "full"
				}
			],
			"bio": "Hello! I am an Accelerated Scholar and Performing Arts Scholar from Massachusetts."
		},
		{   "name": "Marah Lewis",
			"major": "Physics",
			"enrollment": "First Year",
			"photos": [
				{
					"URL": "images/members/marah_lewis.jpg",
					"size": "thumbnail"
				},
				{
					"URL": "images/members/marah_lewis_fun.jpg",
					"size": "full"
				}
			],
			"bio": "Hello, my name's Marah (she/they/he) and I'm from Silver Spring, MD. I love anime, field hockey, reading and writing. If I seem really quiet and stand offish, I'm not being mean, I just have crippling social anxiety."
		},
		{   "name": "Daniel Lekan-Salami",
			"major": "Mechatronics Engineering Technology",
			"enrollment": "First Year",
			"photos": [
				{
					"URL": "images/members/daniel_lekan_salami.jpg",
					"size": "thumbnail"
				},
				{
					"URL": "images/members/daniel_lekan_salami_fun.jpg",
					"size": "full"
				}
			],
			"bio": "I am a person. I eat food. Everything else you will learn from me in person."
		},
		{   "name": "Anthony Patti",
			"major": "Biochemistry",
			"enrollment": "First Year",
			"photos": [
				{
					"URL": "images/members/anthony_patti.jpg",
					"size": "thumbnail"
				},
				{
					"URL": "images/members/anthony_patti_fun.jpg",
					"size": "full"
				}
			],
			"bio": "I'm a first year biochem major from Long island New York."
		},
		{   "name": "Katie Miller",
			"major": "Chemistry",
			"minor": "Dance",
			"enrollment": "First Year",
			"photos": [
				{
					"URL": "images/members/katie_miller.jpg",
					"size": "thumbnail"
				},
				{
					"URL": "images/members/katie_miller_fun.jpg",
					"size": "full"
				}
			],
			"bio": "Hello! My name is Katie Miller and I'm a first year chemistry major from Eagan, Minnesota. I'm also cross-registered student from NTID! Outside of school, I love to dance (ballet and tap are my favorites), do Taekwondo, play the violin, and arrange/compose music."
		},
		{   "name": "Nicolas Sovare",
			"major": "Physics, Game Design & Development ",
			"minor": "Math",
			"enrollment": "Second Year",
			"photos": [
				{
					"URL": "images/members/nicolas_sovare.jpg",
					"size": "thumbnail"
				},
				{
					"URL": "images/members/nicolas_sovare_fun.jpg",
					"size": "full"
				}
			],
			"bio": "Physics Major at RIT. Everyone thinks I'm insane and they're probably right. I have three younger brothers who are, unfortunately, not physics majors at RIT"
		},
		{   "name": "Robert Vazquez",
			"major": "Civil Engineering Technology",
			"enrollment": "Second Year",
			"photos": [
				{
					"URL": "images/members/robert_vazquez.jpg",
					"size": "thumbnail"
				},
				{
					"URL": "images/members/robert_vazquez_fun.jpg",
					"size": "full"
				}
			],
			"bio": "My name is Robert Anthony Vazquez. I am a second year Civil Engineering Technology (CVET) student. I'm a martial artist who's always interested in learning new things."
		},
		{   "name": "Benny Wang",
			"major": "Applied Statistics",
			"enrollment": "First Year",
			"photos": [
				{
					"URL": "images/members/benny_wang.jpg",
					"size": "thumbnail"
				},
				{
					"URL": "images/members/benny_wang_fun.jpg",
					"size": "full"
				}
			],
			"bio": "Benny's never gonna give up dadjoking you, and he's never gonna give up just brute forcing math problems. He's never gonna let you live down your most embarrassing moment, and he's never gonna run around campus playing Pokemon go. That's a lie, he'll desert you to go catch that gible. If it wasn't obvious, Benny loves his rickrolls. He plays valorant and pokemon go, and enjoys listening to Chinese music."
		},
		{   "name": "Ryan Armitage",
			"major": "Applied Mathematics",
			"enrollment": "First Year",
			"photos": [
				{
					"URL": "images/members/ryan_armitage.jpg",
					"size": "thumbnail"
				},
				{
					"URL": "images/members/ryan_armitage_fun.jpg",
					"size": "full"
				}
			],
			"bio": "I like warlocks, wheely chairs, and wooing ladies. I enjoy frolicking in various fields such as wheat, corn and soy. I live my life on the edge."
		}
	]
}

let imageFailListener = {
	type: "error",
	once: true,
	passive: true,
	capture: false,
	listener: (event) => {
		if (event.target instanceof HTMLImageElement) {
			event.target.setAttribute("src", "images/unknownProfile.svg");
		} else {
			throw "imageFail called on something other than an image";
		}
	}
};

processEboard: {
	eboard = memberData.members.filter(member => member.eboardRole);
	eboard.sort((a, b) => {
		if (memberData.eboardSort.includes(a.eboardRole)) {
			if (memberData.eboardSort.includes(b.eboardRole)) {
				return memberData.eboardSort.indexOf(a.eboardRole) - memberData.eboardSort.indexOf(b.eboardRole);
			} else {
				return -1;
			}
		} else if (memberData.eboardSort.includes(b.eboardRole)) {
			return +1;
		} else {
			return a.name.localeCompare(b.name);
		}
	});

	eboard = eboard.map(member => new Elmen("div").withClasses("col-md-6").withChildren(
		new Elmen("ul").withClasses("exemenu").withChildren(
			new Elmen("li").withChildren(new Elmen("div").withClasses("exewrap").withChildren(
				new Elmen("img").withClasses("img1").withAttributes({src: member.photos.find(photo => photo.size == "thumbnail").URL}).withListeners(imageFailListener),
				new Elmen("img").withClasses("img2").withAttributes({src: member.photos.find(photo => photo.size == "fun").URL}).withListeners(imageFailListener)
			)),
			new Elmen("li").withClasses("exetext").withChildren(
				new Elmen("h3").withChildren(member.name),
				...([member.eboardRole, member.major, (member.minor ? member.minor : undefined), member.enrollment].map(infoLine =>
					(infoLine === undefined) ? undefined : new Elmen("p").withChildren(infoLine)
				))
			)
		),
		new Elmen("p").withClasses("exedesc").withChildren(member.bio)
	).done())

	let eboardMarkup = [];
	while (eboard.length > 0) {
		if (eboard.length >= 2) {
			eboardMarkup.push(new Elmen("div").withClasses("row").withChildren(eboard.shift(), eboard.shift()).done());
		} else {
			eboardMarkup.push(new Elmen("div").withClasses("row").withChildren(eboard.shift()).done());
		}
	}

	document.addEventListener("DOMContentLoaded", () => {
		let eboardSection = document.getElementById("eboard_members");
		if (eboardSection) {
			eboardMarkup.forEach(row => eboardSection.appendChild(row));
		}
	}, {passive: true, once: true, capture: false});
}

processMembers: {
	members = memberData.members.filter(member => !member.eboardRole);
	members.sort((a, b) => {
		let comparison = (a.name ? a.name : "").localeCompare(b.name ? b.name : "");
		if (comparison == 0) {
			comparison = (a.major ? a.major : "").localeCompare(b.major ? b.major : "");
		}
		if (comparison == 0) {
			comparison = (a.minor ? a.minor : "").localeCompare(b.minor ? b.minor : "");
		}
		if (comparison == 0) {
			comparison = (a.enrollment ? a.enrollment : "").localeCompare(b.enrollment ? b.enrollment : "");
		}
		return comparison;
	});
	{
		let id = 0;
		members.forEach(member => member.id = id++);
	}

	gridItems = members.map(member =>
		new Elmen("div").withClasses("bgrid", "folio-item").withChildren(
			new Elmen("div").withClasses("item-wrap").withChildren(
				new Elmen("a").withAttributes({href: `#modal-${member.id}`}).withChildren(
					new Elmen("img").withAttributes({src: member.photos.find(photo => photo.size == "thumbnail").URL, alt: (member.name ? member.name : "")}).withListeners(imageFailListener),
					new Elmen("div").withClasses("overlay").withChildren(
						new Elmen("div").withClasses("portfolio-item-meta").withChildren(
							new Elmen("h5").withChildren(member.name),
							...([member.major, (member.minor ? member.minor : undefined), member.enrollment].map(infoLine =>
								(infoLine === undefined) ? undefined : new Elmen("p").withChildren(infoLine)
							))
						)
					),
					new Elmen("div").withClasses("link-icon").withChildren(
						new Elmen("i").withClasses("fa", "fa-plus")
					)
				)
			)
		)
	);

	modals = members.map(member =>
		new Elmen("div").withClasses("popup-modal", "mfp-hide").withAttributes({id: `modal-${member.id}`}).withChildren(
			new Elmen("div").withClasses("media").withChildren(
				new Elmen("img").withAttributes({src: member.photos.find(photo => photo.size == "full").URL, alt: (member.name ? member.name : "")}).withListeners(imageFailListener)
			),
			new Elmen("div").withClasses("description-box").withChildren(
				new Elmen("h4").withChildren(member.name),
				new Elmen("p").withChildren(member.bio)
			),
			new Elmen("div").withClasses("link-box").withChildren(
				new Elmen("a").withClasses("popup-modal-dismiss").withAttributes({href: "#"}).withChildren("Close")
			)
		)
	);

	document.addEventListener("DOMContentLoaded", () => {
		let portfolioSection = document.getElementById("portfolio");
		if (portfolioSection) {
			portfolioSection.appendChild(
				new Elmen("div").withClasses("row", "items").withChildren(
					new Elmen("div").withClasses("bgrid-fourth", "s-bgrid-third", "tab-bgrid-half").withAttributes({id: "portfolio-wrapper"}).withChildren(
						...gridItems
					),
					...modals
				).done()
			);
		}

		// from main.js:
		$('.item-wrap a').magnificPopup({

			type:'inline',
			fixedContentPos: false,
			removalDelay: 300,
			showCloseBtn: false,
			mainClass: 'mfp-fade'

		});

		$(document).on('click', '.popup-modal-dismiss', function (e) {
			e.preventDefault();
			$.magnificPopup.close();
		});
	}, {passive: true, once: true, capture: false});
}